#!/usr/bin/env ruby

require_relative '../lib/players'
require_relative '../lib/board'

puts 'Player1, enter your name: '
name1 = gets.chomp

puts "#{name1}, choose 'X' or 'O': "
token = gets.chomp.upcase

Player.new(name1, token)

puts 'Player2, enter your name: '
name2 = gets.chomp

Player.new(name2)

player = Player.players

game_board = Board.new

game_on = true
winner = nil
draw = false
turn = true
while game_on
  current_player = turn == true ? player.keys[0] : player.keys[1]
  game_board.display
  puts "#{current_player} make your move: "
  move = gets.chomp
  game_board.verify_token(move)
  turn = !turn
  game_on = false if winner || draw
end

puts winner.nil? ? "it's a tie." : "the winner is #{winner}"
