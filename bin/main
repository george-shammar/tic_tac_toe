#!/usr/bin/env ruby
puts 'Welcome to tic_tac_toe championship'

# player 1 registration
puts 'Player1, enter your name.'
player1 = gets.chomp
puts "Welcome #{player1}. Choose your token. Press X or O:"
player1_token = gets.chomp.upcase

while player1_token != 'X' && player1_token != 'O'
  puts "Oops! Wrong token. Choose 'X' or 'O':"
  player1_token = gets.chomp.upcase
end
puts "You've chosen #{player1_token}. You're all setup. Wait for your turn."

# player 2 registration
puts 'Player2, enter your name.'
player2 = gets.chomp
player2_token = player1_token == 'X' ? 'O' : 'X'

puts "Welcome #{player2}. Your token is #{player2_token}"

# Begin the game
puts "Let's begin!"

puts "#{player1} make your move:"
player1_move = gets.chomp

until player1_move.match(/[ 1-9 ]/)
  puts 'Wrong move. Choose a number between 1 to 9'
  player1_move = gets.chomp
end

puts "#{player2} make your move:"
player2_move = gets.chomp

until player2_move.match(/[ 1-9 ]/)
  puts 'Wrong move. Choose a number between 1 to 9'
  player2_move = gets.chomp
end
